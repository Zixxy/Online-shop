<?xml version="1.0" encoding="UTF-8" ?>
<project name="SklepInternetowy" id="Project1014944" template="Default" database="MySql" >
	<schema name="sklepinternetowy" schemaname="sklepinternetowy" defo="y" >
		<table name="adresy" generator_rows="100" >
			<column name="id_adres" type="int" jt="4" mandatory="y" autoincrement="y" />
			<column name="ulica" type="varchar" length="20" jt="12" mandatory="y" />
			<column name="miejscowosc" type="varchar" length="20" jt="12" mandatory="y" />
<<<<<<< HEAD
<<<<<<< HEAD
			<column name="numer_domu" type="varchar" length="5" jt="12" mandatory="y" />
=======
			<column name="lokal" type="varchar" length="10" jt="12" />
			<column name="dom" type="varchar" length="10" jt="12" />
>>>>>>> 4bf0a7e... initial database
=======
			<column name="numer_domu" type="varchar" length="5" jt="12" mandatory="y" />
>>>>>>> 27f4c69... deleted unnecessary table.
			<column name="kod_pocztowy" type="char" length="6" jt="1" mandatory="y" />
			<index name="pk_adresy" unique="PRIMARY_KEY" >
				<column name="id_adres" />
			</index>
<<<<<<< HEAD
<<<<<<< HEAD
=======
			<constraint name="ck_0" >
				<string>lokal is not null or dom is not null</string>
			</constraint>
>>>>>>> 4bf0a7e... initial database
=======
>>>>>>> 27f4c69... deleted unnecessary table.
			<storage><![CDATA[engine=InnoDB]]></storage>
		</table>
		<table name="dostawcy" generator_rows="150" >
			<column name="nazwa_dostawcy" type="varchar" length="40" jt="12" mandatory="y" />
			<column name="nip" type="char" length="10" jt="1" />
			<column name="adres" type="int" jt="4" mandatory="y" />
			<column name="numer_konta" type="char" length="26" jt="1" />
			<column name="parametry_dostawcy" type="varchar" length="100" jt="12" />
			<index name="pk_dostawcy" unique="PRIMARY_KEY" >
				<column name="nazwa_dostawcy" />
			</index>
			<index name="idx_dostawcy" unique="UNIQUE" >
				<column name="adres" />
			</index>
			<fk name="fk_dostawcy" to_schema="sklepinternetowy" to_table="adresy" >
				<fk_column name="adres" pk="id_adres" />
			</fk>
			<storage><![CDATA[engine=InnoDB]]></storage>
		</table>
<<<<<<< HEAD
<<<<<<< HEAD
<<<<<<< HEAD
		<table name="dostawy" generator_rows="225" >
=======
		<table name="dostawy" >
>>>>>>> 27aeb87... Added backend for shop administrator in database.
=======
		<table name="dostawy" generator_rows="225" >
=======
		<table name="dostawy" >
>>>>>>> 27aeb8731e6b80c2c5527380d2b41fc4fe23eec9
>>>>>>> 426c7eeb3140cdef48369a5dc3e8891afe624df5
			<column name="id_dostawy" type="int" jt="4" mandatory="y" autoincrement="y" />
			<column name="nazwa_dostawcy" type="varbinary" length="40" jt="-3" mandatory="y" />
			<index name="pk_dostawy" unique="PRIMARY_KEY" >
				<column name="id_dostawy" />
			</index>
			<index name="idx_dostawy" unique="NORMAL" >
				<column name="nazwa_dostawcy" />
			</index>
			<fk name="fk_dostawy" to_schema="sklepinternetowy" to_table="dostawcy" >
				<fk_column name="nazwa_dostawcy" pk="nazwa_dostawcy" />
			</fk>
			<storage><![CDATA[engine=InnoDB]]></storage>
		</table>
<<<<<<< HEAD
		<table name="dostawy_produkty" generator_rows="337" >
			<column name="id_dostawy" type="int" jt="4" mandatory="y" />
			<column name="kod_produktu" type="numeric" length="16" jt="2" mandatory="y" />
			<column name="ilosc" type="int" jt="4" mandatory="y" />
			<column name="cena_netto" type="numeric" length="6" decimal="2" jt="2" mandatory="y" />
=======
		<table name="dostawy_produkty" >
			<column name="id_dostawy" type="int" jt="4" mandatory="y" />
			<column name="kod_produktu" type="numeric" length="16" jt="2" mandatory="y" />
			<column name="ilosc" type="int" jt="4" mandatory="y" />
<<<<<<< HEAD
>>>>>>> 27aeb87... Added backend for shop administrator in database.
=======
>>>>>>> 27aeb8731e6b80c2c5527380d2b41fc4fe23eec9
>>>>>>> 426c7eeb3140cdef48369a5dc3e8891afe624df5
			<index name="idx_dostawy_produkty" unique="NORMAL" >
				<column name="kod_produktu" />
			</index>
			<index name="pk_dostawy_produkty" unique="PRIMARY_KEY" >
				<column name="id_dostawy" />
				<column name="kod_produktu" />
			</index>
			<fk name="fk_dostawy_produkty" to_schema="sklepinternetowy" to_table="dostawy" >
				<fk_column name="id_dostawy" pk="id_dostawy" />
			</fk>
			<fk name="fk_dostawy_produkty_0" to_schema="sklepinternetowy" to_table="produkty" >
				<fk_column name="kod_produktu" pk="kod_kreskowy" />
			</fk>
			<storage><![CDATA[engine=InnoDB]]></storage>
		</table>
		<table name="faktury_sprzedazy" generator_rows="337" >
			<column name="id_zamowienia" type="int" jt="4" mandatory="y" />
			<column name="nr_faktury" type="varchar" length="20" jt="12" mandatory="y" />
=======
		<table name="faktury_sprzedazy" generator_rows="337" >
			<column name="id_zamowienia" type="int" jt="4" mandatory="y" />
<<<<<<< HEAD
			<column name="nr_faktury_sprzedazy" type="varchar" length="20" jt="12" mandatory="y" />
>>>>>>> 4bf0a7e... initial database
=======
			<column name="nr_faktury" type="varchar" length="20" jt="12" mandatory="y" />
>>>>>>> 27f4c69... deleted unnecessary table.
			<column name="data_wystawienia" type="date" jt="91" mandatory="y" >
				<defo>CURRENT_DATE</defo>
			</column>
			<column name="wartosc_netto" type="numeric" length="12" decimal="2" jt="2" mandatory="y" />
			<column name="wartosc_brutto" type="numeric" length="12" decimal="2" jt="2" mandatory="y" />
<<<<<<< HEAD
<<<<<<< HEAD
			<column name="forma_platnosci" type="enum" length="45" jt="12" mandatory="y" >
				<enumeration>karta, gotówka, przelew</enumeration>
			</column>
=======
			<column name="firorma_platnosci" type="varchar" length="45" jt="12" mandatory="y" />
>>>>>>> 4bf0a7e... initial database
=======
			<column name="forma_platnosci" type="enum" length="45" jt="12" mandatory="y" >
				<enumeration>karta, gotówka, przelew</enumeration>
			</column>
>>>>>>> 27f4c69... deleted unnecessary table.
			<index name="pk_faktury_sprzedazy" unique="PRIMARY_KEY" >
				<column name="id_zamowienia" />
			</index>
			<constraint name="ck_1" >
				<string>wartosc_netto &lt;= wartosc_brutto</string>
			</constraint>
			<fk name="fk_faktury_sprzedazy" to_schema="sklepinternetowy" to_table="zamowienia" >
				<fk_column name="id_zamowienia" pk="id_zamowienia" />
			</fk>
			<storage><![CDATA[engine=InnoDB]]></storage>
		</table>
<<<<<<< HEAD
<<<<<<< HEAD
<<<<<<< HEAD
<<<<<<< HEAD
		<table name="faktury_zakupow" generator_rows="337" >
=======
		<table name="faktury_zakupow" >
>>>>>>> 27aeb87... Added backend for shop administrator in database.
=======
		<table name="faktury_zakupow" generator_rows="337" >
=======
		<table name="faktury_zakupow" >
>>>>>>> 27aeb8731e6b80c2c5527380d2b41fc4fe23eec9
>>>>>>> 426c7eeb3140cdef48369a5dc3e8891afe624df5
			<column name="id_dostawy" type="int" jt="4" mandatory="y" />
			<column name="nr_faktury" type="varchar" length="20" jt="12" mandatory="y" />
			<column name="data_wystawienia" type="date" jt="91" mandatory="y" >
				<defo>CURRENT_DATE</defo>
			</column>
			<column name="wartosc_netto" type="numeric" length="12" decimal="2" jt="2" mandatory="y" />
			<column name="wartosc_brutto" type="numeric" length="12" decimal="2" jt="2" mandatory="y" />
<<<<<<< HEAD
			<column name="uregulowane" type="bool" jt="-7" mandatory="y" />
=======
			<column name="forma_platnosci" type="enum" length="45" jt="12" mandatory="y" >
				<enumeration>karta, gotówka, przelew</enumeration>
			</column>
>>>>>>> 27aeb8731e6b80c2c5527380d2b41fc4fe23eec9
			<index name="pk_faktury_sprzedazy_0" unique="PRIMARY_KEY" >
				<column name="id_dostawy" />
			</index>
			<fk name="fk_faktury_zakupow" to_schema="sklepinternetowy" to_table="dostawy" >
				<fk_column name="id_dostawy" pk="id_dostawy" />
			</fk>
		</table>
<<<<<<< HEAD
		<table name="kartoteka_towaru" generator_rows="337" >
			<column name="kod_kreskowy" type="numeric" length="16" jt="2" mandatory="y" />
=======
		<table name="kartoteka_towaru" >
			<column name="kod_towaru" type="numeric" length="16" jt="2" mandatory="y" />
>>>>>>> 27aeb8731e6b80c2c5527380d2b41fc4fe23eec9
			<column name="data_od" type="date" jt="91" mandatory="y" >
				<defo>CURRENT_DATE</defo>
			</column>
			<column name="data_do" type="date" jt="91" />
			<column name="cena_zakupu_netto" type="numeric" length="6" decimal="2" jt="2" />
			<column name="cena_sprzedazy_netto" type="numeric" length="6" decimal="2" jt="2" />
<<<<<<< HEAD
			<column name="vat" type="int" length="6" decimal="2" jt="4" />
			<index name="pk_kartoteka_towaru" unique="PRIMARY_KEY" >
				<column name="kod_kreskowy" />
				<column name="data_od" />
			</index>
			<index name="idx_kartoteka_towaru" unique="NORMAL" >
				<column name="kod_kreskowy" />
			</index>
			<fk name="fk_kartoteka_towaru" to_schema="sklepinternetowy" to_table="produkty" >
				<fk_column name="kod_kreskowy" pk="kod_kreskowy" />
=======
			<column name="vat" type="numeric" length="6" decimal="2" jt="2" />
			<index name="pk_kartoteka_towaru" unique="PRIMARY_KEY" >
				<column name="kod_towaru" />
				<column name="data_od" />
			</index>
			<index name="idx_kartoteka_towaru" unique="NORMAL" >
				<column name="kod_towaru" />
			</index>
			<fk name="fk_kartoteka_towaru" to_schema="sklepinternetowy" to_table="produkty" >
				<fk_column name="kod_towaru" pk="kod_kreskowy" />
>>>>>>> 27aeb8731e6b80c2c5527380d2b41fc4fe23eec9
			</fk>
			<storage><![CDATA[engine=InnoDB]]></storage>
=======
		<table name="firma" >
			<column name="nazwa_firmy" type="varchar" length="40" jt="12" mandatory="y" />
			<column name="nip" type="char" length="10" jt="1" />
			<column name="adres" type="int" jt="4" mandatory="y" />
			<index name="pk_dostawcy_0" unique="PRIMARY_KEY" >
				<column name="nazwa_firmy" />
			</index>
			<index name="idx_dostawcy_0" unique="UNIQUE" >
				<column name="adres" />
			</index>
			<fk name="fk_firma" to_schema="sklepinternetowy" to_table="adresy" >
				<fk_column name="adres" pk="id_adres" />
			</fk>
>>>>>>> 4bf0a7e... initial database
=======
		<table name="kategorie" >
			<column name="nazwa_kategori" type="varchar" length="25" jt="12" mandatory="y" />
			<column name="vat" type="int" jt="4" mandatory="y" />
			<index name="pk_kategorie" unique="PRIMARY_KEY" >
				<column name="nazwa_kategori" />
=======
			<column name="forma_platnosci" type="enum" length="45" jt="12" mandatory="y" >
				<enumeration>karta, gotówka, przelew</enumeration>
			</column>
			<index name="pk_faktury_sprzedazy_0" unique="PRIMARY_KEY" >
				<column name="id_dostawy" />
>>>>>>> 27aeb87... Added backend for shop administrator in database.
			</index>
			<fk name="fk_faktury_zakupow" to_schema="sklepinternetowy" to_table="dostawy" >
				<fk_column name="id_dostawy" pk="id_dostawy" />
			</fk>
		</table>
		<table name="kartoteka_towaru" >
			<column name="kod_towaru" type="numeric" length="16" jt="2" mandatory="y" />
			<column name="data_od" type="date" jt="91" mandatory="y" >
				<defo>CURRENT_DATE</defo>
			</column>
			<column name="data_do" type="date" jt="91" />
			<column name="cena_zakupu_netto" type="numeric" length="6" decimal="2" jt="2" />
			<column name="cena_sprzedazy_netto" type="numeric" length="6" decimal="2" jt="2" />
			<column name="vat" type="numeric" length="6" decimal="2" jt="2" />
			<index name="pk_kartoteka_towaru" unique="PRIMARY_KEY" >
				<column name="kod_towaru" />
				<column name="data_od" />
			</index>
			<index name="idx_kartoteka_towaru" unique="NORMAL" >
				<column name="kod_towaru" />
			</index>
			<fk name="fk_kartoteka_towaru" to_schema="sklepinternetowy" to_table="produkty" >
				<fk_column name="kod_towaru" pk="kod_kreskowy" />
			</fk>
			<storage><![CDATA[engine=InnoDB]]></storage>
>>>>>>> 27f4c69... deleted unnecessary table.
		</table>
		<table name="konta_uzytkownicy" generator_rows="150" >
			<column name="login" type="varchar" length="20" jt="12" mandatory="y" />
			<column name="haslo" type="varchar" length="40" jt="12" mandatory="y" />
<<<<<<< HEAD
<<<<<<< HEAD
			<column name="imie" type="varchar" length="20" jt="12" mandatory="y" />
			<column name="nazwisko" type="varchar" length="20" jt="12" mandatory="y" />
			<column name="adres" type="int" jt="4" />
<<<<<<< HEAD
=======
			<column name="imie" type="varchar" length="40" jt="12" mandatory="y" />
			<column name="nazwisko" type="varchar" length="40" jt="12" mandatory="y" />
=======
			<column name="imie" type="varchar" length="20" jt="12" mandatory="y" />
			<column name="nazwisko" type="varchar" length="20" jt="12" mandatory="y" />
>>>>>>> 628c1e7... changed primary key in magazyn.
			<column name="adres" type="int" jt="4" />
			<column name="firma" type="varchar" length="40" jt="12" />
>>>>>>> 4bf0a7e... initial database
=======
>>>>>>> 27aeb87... Added backend for shop administrator in database.
			<index name="pk_konta_uzytkownicy" unique="PRIMARY_KEY" >
				<column name="login" />
			</index>
			<index name="idx_konta_uzytkownicy" unique="UNIQUE" >
				<column name="adres" />
			</index>
<<<<<<< HEAD
<<<<<<< HEAD
=======
			<index name="idx_konta_uzytkownicy_0" unique="NORMAL" >
				<column name="firma" />
			</index>
>>>>>>> 4bf0a7e... initial database
=======
>>>>>>> 27aeb87... Added backend for shop administrator in database.
			<constraint name="haslo_zalozenia" >
				<string>char_length(haslo) &gt; 6</string>
			</constraint>
			<fk name="fk_konta_uzytkownicy" to_schema="sklepinternetowy" to_table="adresy" >
				<fk_column name="adres" pk="id_adres" />
			</fk>
<<<<<<< HEAD
<<<<<<< HEAD
=======
			<fk name="fk_konta_uzytkownicy_0" to_schema="sklepinternetowy" to_table="firma" >
				<fk_column name="firma" pk="nazwa_firmy" />
			</fk>
			<storage><![CDATA[engine=InnoDB]]></storage>
		</table>
		<table name="koszyk" generator_rows="337" >
			<column name="produkt" type="numeric" length="16" jt="2" mandatory="y" />
			<column name="ilosc" type="int" jt="4" mandatory="y" />
			<column name="login" type="varchar" length="20" jt="12" mandatory="y" />
			<index name="pk_koszyk_produkty" unique="PRIMARY_KEY" >
				<column name="produkt" />
			</index>
			<index name="idx_koszyk_produkty" unique="NORMAL" >
				<column name="login" />
			</index>
			<fk name="fk_koszyk_produkty" to_schema="sklepinternetowy" to_table="magazyn" >
				<fk_column name="produkt" pk="kod_towarowy" />
			</fk>
			<fk name="fk_koszyk_produkty_0" to_schema="sklepinternetowy" to_table="konta_uzytkownicy" >
				<fk_column name="login" pk="login" />
			</fk>
=======
>>>>>>> 27f4c69... deleted unnecessary table.
			<storage><![CDATA[engine=InnoDB]]></storage>
		</table>
		<table name="paragon" generator_rows="337" >
			<column name="id_zamowienia" type="int" jt="4" mandatory="y" />
			<column name="wartosc_netto" type="numeric" length="12" decimal="2" jt="2" mandatory="y" />
			<column name="wartosc_brutto" type="numeric" length="12" decimal="2" jt="2" mandatory="y" />
			<column name="forma_platnosci" type="enum" length="20" jt="12" mandatory="y" >
				<enumeration>karta, gotówka, przelew</enumeration>
			</column>
			<index name="pk_paragon" unique="PRIMARY_KEY" >
				<column name="id_zamowienia" />
			</index>
			<constraint name="ck_2" >
				<string>wartosc_netto&lt;wartosc_brutto</string>
			</constraint>
			<fk name="fk_paragon" to_schema="sklepinternetowy" to_table="zamowienia" >
				<fk_column name="id_zamowienia" pk="id_zamowienia" />
			</fk>
			<storage><![CDATA[engine=InnoDB]]></storage>
		</table>
		<table name="produkty" generator_rows="225" >
			<column name="kod_kreskowy" type="numeric" length="16" jt="2" mandatory="y" />
			<column name="kod_towarowy" type="varchar" length="40" jt="12" mandatory="y" />
			<column name="stan_biezacy" type="int" jt="4" />
			<column name="kategoria" type="varchar" length="25" jt="12" mandatory="y" />
			<column name="opis" type="varchar" length="200" jt="12" />
			<column name="nazwa" type="varchar" length="20" jt="12" />
			<index name="pk_magazyn" unique="PRIMARY_KEY" >
				<column name="kod_kreskowy" />
			</index>
			<constraint name="ck_3" >
				<string>cena_hurtowa&lt;cena_detaliczna</string>
			</constraint>
			<constraint name="ck_4" >
				<string>vat in (0,4,5,7,8,23)</string>
			</constraint>
			<constraint name="ck_5" >
				<string>stan_biezacy&gt;0</string>
			</constraint>
			<constraint name="ck_6" >
				<string>kod_kreskowy&gt;0</string>
			</constraint>
<<<<<<< HEAD
			<fk name="fk_magazyn" to_schema="sklepinternetowy" to_table="dostawcy" >
				<fk_column name="nazwa_dostawcy" pk="nazwa_dostawcy" />
			</fk>
<<<<<<< HEAD
>>>>>>> 4bf0a7e... initial database
=======
			<fk name="fk_magazyn_0" to_schema="sklepinternetowy" to_table="kategorie" >
				<fk_column name="nazwa_kategorii" pk="nazwa_kategori" />
			</fk>
>>>>>>> 27f4c69... deleted unnecessary table.
			<storage><![CDATA[engine=InnoDB]]></storage>
		</table>
		<table name="paragon" generator_rows="337" >
			<column name="id_zamowienia" type="int" jt="4" mandatory="y" />
			<column name="wartosc_netto" type="numeric" length="12" decimal="2" jt="2" mandatory="y" />
			<column name="wartosc_brutto" type="numeric" length="12" decimal="2" jt="2" mandatory="y" />
<<<<<<< HEAD
<<<<<<< HEAD
			<column name="forma_platnosci" type="enum" length="20" jt="12" mandatory="y" >
				<enumeration>karta, gotówka, przelew</enumeration>
			</column>
=======
			<column name="forma_platnosci" type="varchar" length="20" jt="12" mandatory="y" />
>>>>>>> 4bf0a7e... initial database
=======
			<column name="forma_platnosci" type="enum" length="20" jt="12" mandatory="y" >
				<enumeration>karta, gotówka, przelew</enumeration>
			</column>
>>>>>>> 27f4c69... deleted unnecessary table.
			<index name="pk_paragon" unique="PRIMARY_KEY" >
				<column name="id_zamowienia" />
			</index>
			<constraint name="ck_2" >
				<string>wartosc_netto&lt;wartosc_brutto</string>
			</constraint>
			<fk name="fk_paragon" to_schema="sklepinternetowy" to_table="zamowienia" >
				<fk_column name="id_zamowienia" pk="id_zamowienia" />
			</fk>
=======
>>>>>>> 27aeb87... Added backend for shop administrator in database.
			<storage><![CDATA[engine=InnoDB]]></storage>
		</table>
<<<<<<< HEAD
		<table name="produkty" generator_rows="225" >
			<column name="kod_kreskowy" type="numeric" length="16" jt="2" mandatory="y" />
<<<<<<< HEAD
			<column name="nazwa" type="varchar" length="20" jt="12" mandatory="y" />
			<column name="stan_biezacy" type="int" jt="4" />
			<column name="kategoria" type="varchar" length="25" jt="12" mandatory="y" />
			<column name="opis" type="varchar" length="200" jt="12" />
=======
			<column name="kod_towarowy" type="varchar" length="40" jt="12" mandatory="y" />
			<column name="stan_biezacy" type="int" jt="4" />
			<column name="kategoria" type="varchar" length="25" jt="12" mandatory="y" />
			<column name="opis" type="varchar" length="200" jt="12" />
			<column name="nazwa" type="varchar" length="20" jt="12" />
>>>>>>> 27aeb8731e6b80c2c5527380d2b41fc4fe23eec9
			<index name="pk_magazyn" unique="PRIMARY_KEY" >
				<column name="kod_kreskowy" />
			</index>
			<constraint name="ck_3" >
				<string>cena_hurtowa&lt;cena_detaliczna</string>
			</constraint>
			<constraint name="ck_4" >
				<string>vat in (0,4,5,7,8,23)</string>
			</constraint>
			<constraint name="ck_5" >
				<string>stan_biezacy&gt;0</string>
			</constraint>
			<constraint name="ck_6" >
				<string>kod_kreskowy&gt;0</string>
			</constraint>
			<storage><![CDATA[engine=InnoDB]]></storage>
		</table>
		<table name="zamowienia" generator_rows="225" >
			<column name="id_zamowienia" type="int" jt="4" mandatory="y" autoincrement="y" />
			<column name="login_klienta" type="varchar" length="20" jt="12" mandatory="y" />
=======
		<table name="zamowienia" generator_rows="225" >
			<column name="id_zamowienia" type="int" jt="4" mandatory="y" autoincrement="y" />
<<<<<<< HEAD
			<column name="login_klienta" type="varchar" length="40" jt="12" mandatory="y" />
>>>>>>> 4bf0a7e... initial database
=======
			<column name="login_klienta" type="varchar" length="20" jt="12" mandatory="y" />
>>>>>>> 628c1e7... changed primary key in magazyn.
			<column name="zrealizowane" type="bool" jt="-7" mandatory="y" />
			<column name="data_zlozenia" type="date" jt="91" mandatory="y" >
				<defo>CURRENT_DATE</defo>
			</column>
<<<<<<< HEAD
			<column name="adres" type="int" jt="4" mandatory="y" />
=======
			<column name="adres_zamowienia" type="int" jt="4" mandatory="y" />
<<<<<<< HEAD
>>>>>>> 4bf0a7e... initial database
=======
>>>>>>> 27aeb8731e6b80c2c5527380d2b41fc4fe23eec9
>>>>>>> 426c7eeb3140cdef48369a5dc3e8891afe624df5
			<index name="idx_zamowienia" unique="NORMAL" >
				<column name="login_klienta" />
			</index>
			<index name="pk_zamowienia" unique="PRIMARY_KEY" >
				<column name="id_zamowienia" />
			</index>
			<index name="idx_zamowienia_0" unique="NORMAL" >
<<<<<<< HEAD
				<column name="adres" />
=======
				<column name="adres_zamowienia" />
<<<<<<< HEAD
>>>>>>> 4bf0a7e... initial database
=======
>>>>>>> 27aeb8731e6b80c2c5527380d2b41fc4fe23eec9
>>>>>>> 426c7eeb3140cdef48369a5dc3e8891afe624df5
			</index>
			<fk name="fk_zamowienia" to_schema="sklepinternetowy" to_table="konta_uzytkownicy" >
				<fk_column name="login_klienta" pk="login" />
			</fk>
			<fk name="fk_zamowienia_0" to_schema="sklepinternetowy" to_table="adresy" >
<<<<<<< HEAD
				<fk_column name="adres" pk="id_adres" />
=======
				<fk_column name="adres_zamowienia" pk="id_adres" />
<<<<<<< HEAD
>>>>>>> 4bf0a7e... initial database
=======
>>>>>>> 27aeb8731e6b80c2c5527380d2b41fc4fe23eec9
>>>>>>> 426c7eeb3140cdef48369a5dc3e8891afe624df5
			</fk>
			<storage><![CDATA[engine=InnoDB]]></storage>
		</table>
		<table name="zamowienia_produkty" generator_rows="337" >
<<<<<<< HEAD
<<<<<<< HEAD
			<column name="produkt" type="numeric" length="16" jt="2" mandatory="y" />
			<column name="id_zamowienia" type="int" length="40" jt="4" mandatory="y" />
<<<<<<< HEAD
			<column name="ilosc" type="int" jt="4" mandatory="y" />
			<index name="idx_zamowienia_produkty" unique="NORMAL" >
				<column name="id_zamowienia" />
			</index>
			<index name="primary_key" unique="PRIMARY_KEY" >
				<column name="produkt" />
				<column name="id_zamowienia" />
			</index>
<<<<<<< HEAD
			<index name="idx_zamowienia_produkty_0" unique="NORMAL" >
				<column name="produkt" />
=======
			<column name="produkt" type="varchar" length="40" jt="12" mandatory="y" />
=======
			<column name="produkt" type="numeric" length="16" jt="2" mandatory="y" />
>>>>>>> 628c1e7... changed primary key in magazyn.
			<column name="id_zamowienia" type="varchar" length="40" jt="12" mandatory="y" />
=======
>>>>>>> 27f4c69... deleted unnecessary table.
			<column name="ilosc" type="int" jt="4" mandatory="y" />
			<index name="idx_zamowienia_produkty" unique="NORMAL" >
				<column name="id_zamowienia" />
>>>>>>> 4bf0a7e... initial database
			</index>
			<index name="primary_key" unique="PRIMARY_KEY" >
				<column name="produkt" />
				<column name="id_zamowienia" />
			</index>
=======
>>>>>>> 27aeb8731e6b80c2c5527380d2b41fc4fe23eec9
			<fk name="fk_zamowienia_produkty" to_schema="sklepinternetowy" to_table="zamowienia" >
				<fk_column name="id_zamowienia" pk="id_zamowienia" />
			</fk>
<<<<<<< HEAD
<<<<<<< HEAD
			<fk name="fk_zamowienia_produkty_0" to_schema="sklepinternetowy" to_table="produkty" >
<<<<<<< HEAD
				<fk_column name="produkt" pk="kod_kreskowy" />
=======
				<fk_column name="produkt" pk="kod_towarowy" />
>>>>>>> 27aeb8731e6b80c2c5527380d2b41fc4fe23eec9
			</fk>
			<storage><![CDATA[engine=InnoDB]]></storage>
		</table>
	</schema>
	<layout id="Layout1014946" name="SklepInternetowy" show_relation_columns="y" >
<<<<<<< HEAD
		<entity schema="sklepinternetowy" name="kartoteka_towaru" color="b2cdf7" x="720" y="360" />
		<entity schema="sklepinternetowy" name="konta_uzytkownicy" color="b2cdf7" x="75" y="45" />
		<entity schema="sklepinternetowy" name="zamowienia" color="b2cdf7" x="315" y="45" />
		<entity schema="sklepinternetowy" name="adresy" color="b2cdf7" x="45" y="255" />
		<entity schema="sklepinternetowy" name="paragon" color="b2cdf7" x="630" y="225" />
		<entity schema="sklepinternetowy" name="faktury_sprzedazy" color="b2cdf7" x="705" y="60" />
		<entity schema="sklepinternetowy" name="zamowienia_produkty" color="b2cdf7" x="300" y="255" />
		<entity schema="sklepinternetowy" name="dostawcy" color="b2cdf7" x="45" y="510" />
		<entity schema="sklepinternetowy" name="produkty" color="b2cdf7" x="480" y="375" />
		<entity schema="sklepinternetowy" name="dostawy" color="b2cdf7" x="360" y="615" />
		<entity schema="sklepinternetowy" name="dostawy_produkty" color="b2cdf7" x="285" y="480" />
		<entity schema="sklepinternetowy" name="faktury_zakupow" color="b2cdf7" x="585" y="570" />
=======
<<<<<<< HEAD
			<fk name="fk_zamowienia_produkty_0" to_schema="sklepinternetowy" to_table="magazyn" >
=======
			<fk name="fk_zamowienia_produkty_0" to_schema="sklepinternetowy" to_table="produkty" >
>>>>>>> 27aeb87... Added backend for shop administrator in database.
				<fk_column name="produkt" pk="kod_towarowy" />
			</fk>
			<storage><![CDATA[engine=InnoDB]]></storage>
		</table>
	</schema>
	<layout id="Layout1014946" name="SklepInternetowy" show_relation_columns="y" >
<<<<<<< HEAD
		<entity schema="sklepinternetowy" name="konta_uzytkownicy" color="b2cdf7" x="45" y="90" />
		<entity schema="sklepinternetowy" name="zamowienia" color="b2cdf7" x="540" y="120" />
		<entity schema="sklepinternetowy" name="zamowienia_produkty" color="b2cdf7" x="465" y="345" />
		<entity schema="sklepinternetowy" name="magazyn" color="b2cdf7" x="735" y="360" />
		<entity schema="sklepinternetowy" name="adresy" color="b2cdf7" x="240" y="210" />
		<entity schema="sklepinternetowy" name="kategorie" color="b2cdf7" x="300" y="510" />
		<entity schema="sklepinternetowy" name="dostawcy" color="b2cdf7" x="120" y="375" />
		<entity schema="sklepinternetowy" name="faktury_sprzedazy" color="b2cdf7" x="780" y="45" />
		<entity schema="sklepinternetowy" name="paragon" color="b2cdf7" x="780" y="195" />
		<script name="dostawcy" id="SQL703288" >
			<string><![CDATA[CREATE TABLE sklepinternetowy.dostawcy ( 
	nazwa_dostawcy       varchar(40)  NOT NULL  ,
	nip                  char(10)    ,
	adres                int  NOT NULL  ,
	numer_konta          char(26)    ,
	parametry_dostawcy   varchar(100)    ,
	CONSTRAINT pk_dostawcy PRIMARY KEY ( nazwa_dostawcy ),
	CONSTRAINT idx_dostawcy UNIQUE ( adres ) 
 ) engine=InnoDB;

ALTER TABLE sklepinternetowy.dostawcy ADD CONSTRAINT fk_dostawcy FOREIGN KEY ( adres ) REFERENCES sklepinternetowy.adresy( id_adres ) ON DELETE NO ACTION ON UPDATE NO ACTION;

]]></string>
		</script>
		<script name="faktury_sprzedazy" id="SQL299226" >
			<string><![CDATA[CREATE TABLE sklepinternetowy.faktury_sprzedazy ( 
	id_zamowienia        int  NOT NULL  ,
	nr_faktury_sprzedazy varchar(20)  NOT NULL  ,
	data_wystawienia     date  NOT NULL DEFAULT CURRENT_DATE ,
	wartosc_netto        numeric(12,2)  NOT NULL  ,
	wartosc_brutto       numeric(12,2)  NOT NULL  ,
	firorma_platnosci    varchar(45)  NOT NULL  ,
	CONSTRAINT pk_faktury_sprzedazy PRIMARY KEY ( id_zamowienia )
 ) engine=InnoDB;

ALTER TABLE sklepinternetowy.faktury_sprzedazy ADD CONSTRAINT ck_1 CHECK ( wartosc_netto <= wartosc_brutto );

ALTER TABLE sklepinternetowy.faktury_sprzedazy ADD CONSTRAINT fk_faktury_sprzedazy FOREIGN KEY ( id_zamowienia ) REFERENCES sklepinternetowy.zamowienia( id_zamowienia ) ON DELETE NO ACTION ON UPDATE NO ACTION;

]]></string>
		</script>
		<script name="faktury_sprzedazy_001" id="SQL7514974" >
			<string><![CDATA[CREATE TABLE sklepinternetowy.faktury_sprzedazy ( 
	id_zamowienia        int  NOT NULL  ,
	nr_faktury           varchar(20)  NOT NULL  ,
	data_wystawienia     date  NOT NULL DEFAULT CURRENT_DATE ,
	wartosc_netto        numeric(12,2)  NOT NULL  ,
	wartosc_brutto       numeric(12,2)  NOT NULL  ,
	forma_platnosci      varchar(45)  NOT NULL  ,
	CONSTRAINT pk_faktury_sprzedazy PRIMARY KEY ( id_zamowienia )
 ) engine=InnoDB;

ALTER TABLE sklepinternetowy.faktury_sprzedazy ADD CONSTRAINT ck_1 CHECK ( wartosc_netto <= wartosc_brutto );

ALTER TABLE sklepinternetowy.faktury_sprzedazy ADD CONSTRAINT fk_faktury_sprzedazy FOREIGN KEY ( id_zamowienia ) REFERENCES sklepinternetowy.zamowienia( id_zamowienia ) ON DELETE NO ACTION ON UPDATE NO ACTION;

]]></string>
		</script>
		<script name="firma" id="SQL86100" >
			<string><![CDATA[CREATE TABLE sklepinternetowy.firma ( 
	nazwa_firmy          varchar(40)  NOT NULL  ,
	nip                  char(10)    ,
	adres                int  NOT NULL  ,
	CONSTRAINT pk_dostawcy_0 PRIMARY KEY ( nazwa_firmy ),
	CONSTRAINT idx_dostawcy_0 UNIQUE ( adres ) 
 );

ALTER TABLE sklepinternetowy.firma ADD CONSTRAINT fk_firma FOREIGN KEY ( adres ) REFERENCES sklepinternetowy.adresy( id_adres ) ON DELETE NO ACTION ON UPDATE NO ACTION;

]]></string>
		</script>
		<script name="konta_uzytkownicy" id="SQL7420951" >
			<string><![CDATA[CREATE TABLE sklepinternetowy.konta_uzytkownicy ( 
	login                varchar(20)  NOT NULL  ,
	haslo                varchar(40)  NOT NULL  ,
	imie                 varchar(20)  NOT NULL  ,
	nazwisko             varchar(20)  NOT NULL  ,
	adres                int    ,
	firma                varchar(40)    ,
	CONSTRAINT pk_konta_uzytkownicy PRIMARY KEY ( login ),
	CONSTRAINT idx_konta_uzytkownicy UNIQUE ( adres ) 
 ) engine=InnoDB;

ALTER TABLE sklepinternetowy.konta_uzytkownicy ADD CONSTRAINT haslo_zalozenia CHECK ( char_length(haslo) > 6 );

CREATE INDEX idx_konta_uzytkownicy_0 ON sklepinternetowy.konta_uzytkownicy ( firma );

ALTER TABLE sklepinternetowy.konta_uzytkownicy ADD CONSTRAINT fk_konta_uzytkownicy FOREIGN KEY ( adres ) REFERENCES sklepinternetowy.adresy( id_adres ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE sklepinternetowy.konta_uzytkownicy ADD CONSTRAINT fk_konta_uzytkownicy_0 FOREIGN KEY ( firma ) REFERENCES sklepinternetowy.firma( nazwa_firmy ) ON DELETE NO ACTION ON UPDATE NO ACTION;

]]></string>
		</script>
		<script name="koszyk" id="SQL1020510" >
			<string><![CDATA[CREATE TABLE sklepinternetowy.koszyk ( 
	produkt              varchar(40)  NOT NULL  ,
	ilosc                int  NOT NULL  ,
	login                varchar(20)  NOT NULL  ,
	CONSTRAINT pk_koszyk_produkty PRIMARY KEY ( produkt )
 ) engine=InnoDB;

CREATE INDEX idx_koszyk_produkty ON sklepinternetowy.koszyk ( login );

ALTER TABLE sklepinternetowy.koszyk ADD CONSTRAINT fk_koszyk_produkty FOREIGN KEY ( produkt ) REFERENCES sklepinternetowy.magazyn( kod_towarowy ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE sklepinternetowy.koszyk ADD CONSTRAINT fk_koszyk_produkty_0 FOREIGN KEY ( login ) REFERENCES sklepinternetowy.konta_uzytkownicy( login ) ON DELETE NO ACTION ON UPDATE NO ACTION;

]]></string>
		</script>
		<script name="magazyn" id="SQL777871" >
			<string><![CDATA[CREATE TABLE sklepinternetowy.magazyn ( 
	kod_towarowy         varchar(40)  NOT NULL  ,
	kod_kreskowy         numeric(16)    ,
	cena_hurtowa         numeric(6,2)  NOT NULL  ,
	cena_detaliczna      numeric(6,2)  NOT NULL  ,
	vat                  int  NOT NULL  ,
	stan_biezacy         int    ,
	nazwa_kategori       varchar(30)  NOT NULL  ,
	nazwa_dostawcy       varchar(40)  NOT NULL  ,
	CONSTRAINT pk_produkty PRIMARY KEY ( kod_towarowy )
 ) engine=InnoDB;

ALTER TABLE sklepinternetowy.magazyn ADD CONSTRAINT ck_3 CHECK ( cena_hurtowa<cena_detaliczna );

ALTER TABLE sklepinternetowy.magazyn ADD CONSTRAINT ck_4 CHECK ( vat in (0,4,5,7,8,23) );

ALTER TABLE sklepinternetowy.magazyn ADD CONSTRAINT ck_5 CHECK ( stan_biezacy>0 );

ALTER TABLE sklepinternetowy.magazyn ADD CONSTRAINT ck_6 CHECK ( kod_kreskowy>0 );

CREATE INDEX idx_magazyn ON sklepinternetowy.magazyn ( nazwa_dostawcy );

ALTER TABLE sklepinternetowy.magazyn ADD CONSTRAINT fk_magazyn FOREIGN KEY ( nazwa_dostawcy ) REFERENCES sklepinternetowy.dostawcy( nazwa_dostawcy ) ON DELETE NO ACTION ON UPDATE NO ACTION;

]]></string>
		</script>
		<script name="paragon" id="SQL448210" >
			<string><![CDATA[CREATE TABLE sklepinternetowy.paragon ( 
	id_zamowienia        int  NOT NULL  ,
	wartosc_netto        numeric(12,2)  NOT NULL  ,
	wartosc_brutto       numeric(12,2)  NOT NULL  ,
	forma_platnosci      varchar(20)  NOT NULL  ,
	CONSTRAINT pk_paragon PRIMARY KEY ( id_zamowienia )
 ) engine=InnoDB;

ALTER TABLE sklepinternetowy.paragon ADD CONSTRAINT ck_2 CHECK ( wartosc_netto<wartosc_brutto );

ALTER TABLE sklepinternetowy.paragon ADD CONSTRAINT fk_paragon FOREIGN KEY ( id_zamowienia ) REFERENCES sklepinternetowy.zamowienia( id_zamowienia ) ON DELETE NO ACTION ON UPDATE NO ACTION;

]]></string>
		</script>
		<script name="zamowienia" id="SQL9560304" >
			<string><![CDATA[CREATE TABLE sklepinternetowy.zamowienia ( 
	id_zamowienia        int  NOT NULL  AUTO_INCREMENT,
	login_klienta        varchar(20)  NOT NULL  ,
	zrealizowane         bool  NOT NULL  ,
	data_zlozenia        date  NOT NULL DEFAULT CURRENT_DATE ,
	adres_zamowienia     int  NOT NULL  ,
	CONSTRAINT pk_zamowienia PRIMARY KEY ( id_zamowienia )
 ) engine=InnoDB;

CREATE INDEX idx_zamowienia ON sklepinternetowy.zamowienia ( login_klienta );

CREATE INDEX idx_zamowienia_0 ON sklepinternetowy.zamowienia ( adres_zamowienia );

ALTER TABLE sklepinternetowy.zamowienia ADD CONSTRAINT fk_zamowienia FOREIGN KEY ( login_klienta ) REFERENCES sklepinternetowy.konta_uzytkownicy( login ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE sklepinternetowy.zamowienia ADD CONSTRAINT fk_zamowienia_0 FOREIGN KEY ( adres_zamowienia ) REFERENCES sklepinternetowy.adresy( id_adres ) ON DELETE NO ACTION ON UPDATE NO ACTION;

]]></string>
		</script>
		<script name="zamowienia_001" id="SQL7470999" >
			<string><![CDATA[CREATE TABLE sklepinternetowy.zamowienia ( 
	id_zamowienia        int  NOT NULL  AUTO_INCREMENT,
	login_klienta        varchar(20)  NOT NULL  ,
	zrealizowane         bool  NOT NULL  ,
	data_zlozenia        date  NOT NULL DEFAULT CURRENT_DATE ,
	adres_zamowienia     int  NOT NULL  ,
	CONSTRAINT pk_zamowienia PRIMARY KEY ( id_zamowienia )
 ) engine=InnoDB;

CREATE INDEX idx_zamowienia ON sklepinternetowy.zamowienia ( login_klienta );

CREATE INDEX idx_zamowienia_0 ON sklepinternetowy.zamowienia ( adres_zamowienia );

ALTER TABLE sklepinternetowy.zamowienia ADD CONSTRAINT fk_zamowienia FOREIGN KEY ( login_klienta ) REFERENCES sklepinternetowy.konta_uzytkownicy( login ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE sklepinternetowy.zamowienia ADD CONSTRAINT fk_zamowienia_0 FOREIGN KEY ( adres_zamowienia ) REFERENCES sklepinternetowy.adresy( id_adres ) ON DELETE NO ACTION ON UPDATE NO ACTION;

]]></string>
		</script>
		<script name="zamowienia_produkty" id="SQL507198" >
			<string><![CDATA[CREATE TABLE sklepinternetowy.zamowienia_produkty ( 
	produkt              varchar(40)  NOT NULL  ,
	id_zamowienia        varchar(40)  NOT NULL  ,
	ilosc                int  NOT NULL  ,
	CONSTRAINT pk_zamowienia_produkty PRIMARY KEY ( produkt )
 ) engine=InnoDB;

CREATE INDEX idx_zamowienia_produkty ON sklepinternetowy.zamowienia_produkty ( id_zamowienia );

ALTER TABLE sklepinternetowy.zamowienia_produkty ADD CONSTRAINT fk_zamowienia_produkty FOREIGN KEY ( id_zamowienia ) REFERENCES sklepinternetowy.zamowienia( id_zamowienia ) ON DELETE NO ACTION ON UPDATE NO ACTION;

ALTER TABLE sklepinternetowy.zamowienia_produkty ADD CONSTRAINT fk_zamowienia_produkty_0 FOREIGN KEY ( produkt ) REFERENCES sklepinternetowy.magazyn( kod_towarowy ) ON DELETE NO ACTION ON UPDATE NO ACTION;

]]></string>
		</script>
>>>>>>> 4bf0a7e... initial database
=======
=======
>>>>>>> 426c7eeb3140cdef48369a5dc3e8891afe624df5
		<entity schema="sklepinternetowy" name="konta_uzytkownicy" color="b2cdf7" x="75" y="45" />
		<entity schema="sklepinternetowy" name="adresy" color="b2cdf7" x="45" y="255" />
		<entity schema="sklepinternetowy" name="zamowienia" color="b2cdf7" x="315" y="45" />
		<entity schema="sklepinternetowy" name="paragon" color="b2cdf7" x="630" y="225" />
		<entity schema="sklepinternetowy" name="dostawcy" color="b2cdf7" x="45" y="510" />
		<entity schema="sklepinternetowy" name="dostawy_produkty" color="b2cdf7" x="285" y="480" />
		<entity schema="sklepinternetowy" name="faktury_sprzedazy" color="b2cdf7" x="705" y="60" />
		<entity schema="sklepinternetowy" name="zamowienia_produkty" color="b2cdf7" x="300" y="255" />
		<entity schema="sklepinternetowy" name="faktury_zakupow" color="b2cdf7" x="585" y="570" />
		<entity schema="sklepinternetowy" name="kartoteka_towaru" color="b2cdf7" x="675" y="405" />
		<entity schema="sklepinternetowy" name="dostawy" color="b2cdf7" x="360" y="615" />
		<entity schema="sklepinternetowy" name="produkty" color="b2cdf7" x="480" y="375" />
<<<<<<< HEAD
>>>>>>> 27aeb87... Added backend for shop administrator in database.
=======
>>>>>>> 27aeb8731e6b80c2c5527380d2b41fc4fe23eec9
>>>>>>> 426c7eeb3140cdef48369a5dc3e8891afe624df5
	</layout>
</project>